{
  "version": "1.0",
  "last_updated": "2025-10-19T17:02:57.832621",
  "updated_by": "claude_optimizer",
  "entry_rules": {
    "ribbon_alignment_threshold": 0.7,
    "min_light_emas_required": 6,
    "ribbon_states_allowed_long": [
      "all_green",
      "mixed_green"
    ],
    "ribbon_states_allowed_short": [
      "all_red",
      "mixed_red"
    ],
    "fresh_transition_max_minutes": 15,
    "stale_transition_min_minutes": 20
  },
  "exit_rules": {
    "max_hold_minutes": 25,
    "profit_target_pct": 0.007,
    "stop_loss_pct": 0.004,
    "use_yellow_ema_trail": true,
    "exit_on_ribbon_flip": true,
    "exit_on_light_ema_change_count": 3
  },
  "pattern_rules": {
    "path_e_dark_transition": {
      "enabled": true,
      "priority": 3,
      "confidence_boost": 0.15,
      "entry_window_seconds": 10
    },
    "path_d_early_reversal": {
      "enabled": true,
      "priority": 4,
      "min_light_emas_opposite": 8,
      "min_green_appearing": 2,
      "confidence_threshold": 0.75
    },
    "path_c_wick_reversal": {
      "enabled": true,
      "priority": 2,
      "min_wick_pct": 0.003,
      "max_wick_pct": 0.008,
      "confidence_boost": 0.2
    },
    "path_a_trending": {
      "enabled": true,
      "priority": 6,
      "min_range_pct": 0.005,
      "price_location_lower_pct": 0.5,
      "price_location_upper_pct": 0.5,
      "min_alignment_pct": 0.85
    },
    "path_b_breakout": {
      "enabled": true,
      "priority": 5,
      "max_range_pct": 0.004,
      "min_breakout_pct": 0.0015,
      "ribbon_flip_max_minutes": 8
    }
  },
  "performance_metrics": {
    "total_trades_executed": 0,
    "winning_trades": 0,
    "losing_trades": 0,
    "win_rate": 0.0,
    "avg_winner_pnl_pct": 0.0,
    "avg_loser_pnl_pct": 0.0,
    "best_pattern": "unknown",
    "worst_pattern": "unknown"
  },
  "claude_insights": {
    "last_optimization": "2025-10-19T17:02:57.832582",
    "key_findings": [
      "Finding 1: CRITICAL - We're missing ALL 36 big movements (0% catch rate) despite clear early warning signals appearing 4.4 minutes before peaks. This represents massive missed profit of ~25% (36 \u00d7 0.70% average magnitude).",
      "Finding 2: Big movement detection threshold is severely misaligned - patterns show 25.8 average light EMAs at signal time, but our current min_light_emas_required is only 8. We need 25+ light EMAs to catch big moves early.",
      "Finding 3: Current rules are over-optimized for safety (0 actual trades executed) while missing the most profitable opportunities. Win rate of 37.5% on optimal trades is acceptable - we need more entries, not fewer.",
      "Finding 4: Winning patterns strongly favor mixed ribbon states (3/3 winning patterns were mixed_red or mixed_green) with lower green EMA percentages (24.4% vs 68.5% in losers), indicating mixed states are more predictive.",
      "Finding 5: Big movements prefer slow transitions (31 vs 5 fast) and stable/expanding compression patterns (34 vs 2 compressing), suggesting our current filters may be blocking optimal entries."
    ],
    "pattern_recommendations": [
      "Create Path F - Momentum Surge as highest priority (priority 1) specifically targeting big movements with 25+ light EMAs threshold",
      "Enable big movement detection that overrides normal stale and alignment filters when momentum surge patterns appear",
      "Prioritize mixed ribbon states (mixed_red, mixed_green) over pure alignment states as they appear in 100% of winning patterns",
      "Reduce normal entry requirements to allow more trades while maintaining special high-threshold rules for big movements",
      "Add momentum expansion filters to detect the EMA spread patterns that precede 94% of big movements (34/36 stable/expanding)"
    ],
    "rule_adjustments": {
      "ribbon_alignment_threshold": 0.7,
      "min_light_emas_required": 6,
      "max_hold_minutes": 25,
      "profit_target_pct": 0.007,
      "stop_loss_pct": 0.004,
      "NEW_big_movement_detection": {
        "enabled": true,
        "min_price_move_pct": 0.005,
        "volume_surge_threshold": 1.3,
        "ignore_stale_on_big_move": true
      },
      "NEW_path_f_momentum_surge": {
        "enabled": true,
        "priority": 1,
        "min_light_emas": 25,
        "ignore_all_other_filters": true,
        "confidence_boost": 0.4
      },
      "NEW_momentum_filters": {
        "min_ema_spread_pct": 0.0008,
        "dark_to_light_transition_boost": 0.25
      },
      "NEW_big_movement_priority": {
        "enabled": true,
        "entry_overrides": {
          "ignore_stale_filter": true,
          "ignore_position_location_filter": true
        }
      },
      "path_priorities": {
        "path_f_momentum_surge": 1,
        "path_c_wick_reversal": 2,
        "path_e_dark_transition": 3,
        "path_d_early_reversal": 4,
        "path_b_breakout": 5,
        "path_a_trending": 6
      },
      "ribbon_states_allowed_long": [
        "mixed_green",
        "all_green",
        "mixed_red"
      ],
      "ribbon_states_allowed_short": [
        "mixed_red",
        "all_red",
        "mixed_green"
      ]
    },
    "reasoning": "The data reveals a critical optimization failure - we're achieving 0% catch rate on 36 massive profit opportunities averaging 0.70% each. The solution is clear: create a dedicated high-priority Path F for momentum surges using the 25.8 light EMA threshold from big movement analysis. I'm reducing normal entry barriers (alignment to 0.70, light EMAs to 6) to enable more regular trades while the new Path F with override capabilities will catch big movements 4.4 minutes before they peak. Expanding allowed ribbon states to include mixed patterns (which dominated winning trades) and increasing profit targets to 0.7% better matches the big movement magnitudes we're targeting. The momentum filters will detect EMA expansion patterns that preceded 94% of big movements.",
    "NEW_big_movement_analysis": {
      "last_analyzed": "2025-10-19T17:02:57.832610",
      "big_moves_in_period": 36,
      "catch_rate_pct": 0.0,
      "recommendations": [
        "Watch for 25.8 light EMAs appearing"
      ]
    }
  }
}