{
  "_comment": "COMPREHENSIVE PARAMETER CONFIGURATION",
  "_description": "All tweakable parameters for maximum control",

  "metadata": {
    "version": "1.0",
    "last_updated": "2025-10-28",
    "strategy": "FFT + Fibonacci Multi-Timeframe",
    "optimization_note": "Tweak these for different risk/return profiles"
  },

  "trading": {
    "symbol": "ETH",
    "initial_capital": 1000.0,
    "live_trading": true,
    "enable_telegram": true
  },

  "1_signal_thresholds": {
    "_description": "Core signal generation thresholds",
    "_impact": "Higher = fewer trades, higher quality. Lower = more trades, lower quality",

    "compression_threshold": 85,
    "_compression_note": "How tight Fibonacci ribbons must be (70-95). Current: 85 = balanced",

    "alignment_threshold": 85,
    "_alignment_note": "How aligned ribbons must be for trend (70-95). Current: 85 = balanced",

    "confluence_threshold": 60,
    "_confluence_note": "Overall signal agreement (55-80). Current: 60 = moderate",

    "min_signal_strength": 0.25,
    "_strength_note": "Minimum Fourier signal strength (0.15-0.4). Lower = more signals"
  },

  "2_fourier_fft_parameters": {
    "_description": "Fast Fourier Transform settings",
    "_impact": "Controls noise filtering and cycle detection",

    "n_harmonics": 5,
    "_harmonics_note": "Number of FFT harmonics to use (3-10). More = smoother but slower to react",

    "noise_threshold": 0.25,
    "_noise_note": "FFT noise filtering (0.15-0.5). Higher = more aggressive filtering",

    "correlation_threshold": 0.55,
    "_correlation_note": "Min correlation for signal validity (0.4-0.8)"
  },

  "3_fibonacci_ribbon_parameters": {
    "_description": "Fibonacci EMA ribbon settings",
    "_impact": "Controls the 11 Fibonacci EMAs (1,2,3,5,8,13,21,34,55,89,144)",

    "base_ema_period": 20,
    "_ema_note": "Base EMA period for calculations (10-30)",

    "ribbon_periods": [1, 2, 3, 5, 8, 13, 21, 34, 55, 89, 144],
    "_ribbon_note": "Fibonacci sequence for EMA ribbons (do not change)",

    "use_fft_on_ribbons": true,
    "_fft_ribbons_note": "Apply FFT to each ribbon individually"
  },

  "4_entry_conditions": {
    "_description": "When to enter trades",
    "_impact": "More restrictive = fewer but higher quality trades",

    "require_all_timeframes": false,
    "_timeframes_note": "Require 5m+15m+30m agreement? true = very strict, false = flexible",

    "min_timeframes_agreeing": 2,
    "_min_tf_note": "Minimum timeframes that must agree (1-3). 2 = balanced",

    "require_volume_confirmation": false,
    "_volume_note": "Require volume spike for entry?",

    "min_candles_for_signal": 50,
    "_candles_note": "Min candles before generating signals (30-200)"
  },

  "5_exit_conditions": {
    "_description": "When to exit trades",
    "_impact": "Controls holding time and profit taking",

    "max_holding_periods": 24,
    "_holding_note": "Max periods to hold (12-48). 24 = 2 hours on 5m",

    "use_trailing_stop": false,
    "_trailing_note": "Enable trailing stop after profit?",

    "trailing_stop_activation_pct": 1.0,
    "_trail_activation_note": "Activate trailing stop after % profit",

    "trailing_stop_distance_pct": 0.5,
    "_trail_distance_note": "Trail distance as % below price",

    "exit_on_signal_reversal": true,
    "_reversal_note": "Exit when signal flips direction?",

    "exit_on_ribbon_expansion": false,
    "_expansion_note": "Exit when ribbons expand (opportunity passed)?"
  },

  "6_risk_management": {
    "_description": "Position sizing and risk controls",
    "_impact": "Core risk parameters - be careful!",

    "max_position_size": 0.3,
    "_position_note": "Max position as fraction of capital (0.1-0.5). 0.3 = 30%",

    "max_daily_loss": 0.05,
    "_daily_loss_note": "Max daily loss before stopping (0.03-0.1). 0.05 = 5%",

    "max_drawdown": 0.15,
    "_drawdown_note": "Max drawdown before emergency stop (0.1-0.25). 0.15 = 15%",

    "max_concurrent_positions": 3,
    "_concurrent_note": "Max open positions at once (1-5)",

    "commission_rate": 0.0003,
    "_commission_note": "Exchange fee (0.0003 = 0.03% taker fee)",

    "slippage_bps": 2.0,
    "_slippage_note": "Expected slippage in basis points (1-5)"
  },

  "7_adaptive_tp_sl": {
    "_description": "Adaptive Take Profit / Stop Loss",
    "_impact": "Dynamic TP/SL based on signal quality",

    "use_adaptive_tpsl": true,
    "_adaptive_note": "Use adaptive TP/SL vs fixed?",

    "base_sl_pct": 0.02,
    "_base_sl_note": "Base stop loss percentage (0.01-0.05). 0.02 = 2%",

    "min_rr_ratio": 1.5,
    "_min_rr_note": "Minimum risk-reward ratio (1.2-2.0)",

    "max_rr_ratio": 4.0,
    "_max_rr_note": "Maximum risk-reward ratio (2.5-5.0)",

    "use_fibonacci_tp": true,
    "_fib_tp_note": "Align TP with Fibonacci levels?",

    "use_atr_adjustment": true,
    "_atr_note": "Adjust SL based on ATR volatility?",

    "atr_period": 14,
    "_atr_period_note": "ATR calculation period (7-21)"
  },

  "8_signal_fusion": {
    "_description": "Multi-timeframe signal fusion settings",
    "_impact": "How signals are combined across timeframes",

    "min_confidence": 0.65,
    "_confidence_note": "Min confidence to trade (0.5-0.8). Higher = fewer trades",

    "min_coherence": 0.6,
    "_coherence_note": "Min cross-TF coherence (0.5-0.8). Higher = require more agreement",

    "enable_modulation": true,
    "_modulation_note": "Enable constructive interference (higher TF modulates lower TF)?",

    "source_weights": {
      "_weight_note": "Relative weight of each signal source",
      "fourier": 1.0,
      "kalman": 1.2,
      "fibonacci": 0.9,
      "rsi": 0.8
    },

    "regime_weights": {
      "_regime_note": "Timeframe importance by market regime",
      "trending": {
        "higher_tf_weight": 1.3,
        "_note": "Higher timeframes more important in trends"
      },
      "volatile": {
        "lower_tf_weight": 1.2,
        "_note": "Lower timeframes react faster in volatility"
      },
      "stable": {
        "equal_weight": 1.0,
        "_note": "All timeframes equal in stable markets"
      }
    }
  },

  "9_kalman_filter": {
    "_description": "Adaptive Kalman filter settings",
    "_impact": "Price prediction and trend detection",

    "process_noise_base": 1e-5,
    "_process_note": "Base process noise (1e-6 to 1e-4). Lower = smoother",

    "measurement_noise_base": 1e-4,
    "_measurement_note": "Base measurement noise (1e-5 to 1e-3)",

    "enable_adaptation": true,
    "_adaptation_note": "Adapt noise based on volatility?",

    "max_volatility_samples": 100,
    "_vol_samples_note": "Samples for volatility estimation (50-200)"
  },

  "10_performance_optimization": {
    "_description": "Performance and execution settings",
    "_impact": "Speed vs accuracy trade-offs",

    "buffer_size": 5000,
    "_buffer_note": "Ring buffer size for historical data (1000-10000)",

    "signal_cooldown_ms": 60000,
    "_cooldown_note": "Min time between signals in ms (30000-120000). 60000 = 1 min",

    "enable_validation": true,
    "_validation_note": "Validate incoming data?",

    "max_latency_ms": 100,
    "_latency_note": "Alert if pipeline latency exceeds this (50-200ms)"
  },

  "11_advanced_features": {
    "_description": "Advanced features for power users",
    "_impact": "Experimental features",

    "use_position_scaling": false,
    "_scaling_note": "Scale into positions? (add to winners)",

    "initial_position_pct": 0.5,
    "_initial_note": "Initial position as fraction of max (if scaling)",

    "scale_in_on_profit_pct": 0.5,
    "_scale_trigger_note": "Add to position after % profit",

    "use_time_based_exits": true,
    "_time_exit_note": "Exit based on time of day?",

    "avoid_trading_hours": [],
    "_avoid_hours_note": "Hours to avoid trading (e.g. [0,1,2] = midnight-3am UTC)",

    "use_multi_symbol": false,
    "_multi_symbol_note": "Trade multiple symbols?",

    "symbols": ["ETH", "BTC"],
    "_symbols_note": "Symbols to trade if multi_symbol enabled"
  },

  "12_iteration_presets": {
    "_description": "Quick presets for different strategies",
    "_note": "Copy values from these presets",

    "ultra_safe": {
      "compression_threshold": 90,
      "alignment_threshold": 90,
      "confluence_threshold": 65,
      "min_confidence": 0.7,
      "expected_sharpe": "10-12",
      "expected_return": "1.5-2.5%"
    },

    "balanced": {
      "compression_threshold": 85,
      "alignment_threshold": 85,
      "confluence_threshold": 60,
      "min_confidence": 0.65,
      "expected_sharpe": "8.5-9.5",
      "expected_return": "3.5-4.5%"
    },

    "moderate": {
      "compression_threshold": 82,
      "alignment_threshold": 83,
      "confluence_threshold": 58,
      "min_confidence": 0.6,
      "expected_sharpe": "7.5-8.5",
      "expected_return": "5.0-6.0%"
    },

    "aggressive": {
      "compression_threshold": 80,
      "alignment_threshold": 80,
      "confluence_threshold": 55,
      "min_confidence": 0.55,
      "expected_sharpe": "6.5-7.5",
      "expected_return": "6.5-8.0%"
    },

    "very_aggressive": {
      "compression_threshold": 75,
      "alignment_threshold": 78,
      "confluence_threshold": 52,
      "min_confidence": 0.5,
      "expected_sharpe": "5.5-6.5",
      "expected_return": "8.0-10.0%"
    }
  },

  "usage_notes": {
    "_tweaking_guide": "Parameters to tweak for different goals",

    "to_increase_returns": {
      "lower": ["compression_threshold", "alignment_threshold", "confluence_threshold", "min_confidence"],
      "adjust": ["max_holding_periods (increase)", "min_rr_ratio (increase)"]
    },

    "to_increase_safety": {
      "increase": ["compression_threshold", "alignment_threshold", "confluence_threshold", "min_confidence"],
      "decrease": ["max_position_size", "max_concurrent_positions"]
    },

    "to_increase_trades": {
      "lower": ["compression_threshold", "alignment_threshold", "confluence_threshold"],
      "enable": ["use_position_scaling"]
    },

    "to_reduce_drawdown": {
      "increase": ["min_confidence", "min_coherence"],
      "decrease": ["max_position_size", "base_sl_pct"],
      "enable": ["use_trailing_stop"]
    }
  }
}
